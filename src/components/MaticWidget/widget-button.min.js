(function(){function t(t){var e=document.createElement("a");return e.href=t,e}String.prototype.supplant=function(t){return this.replace(/{([^{}]*)}/g,function(e,n){var a=t[n];return"string"==typeof a||"number"==typeof a?a:e})};const e=document.querySelector('script[data-script-name="matic-embeds"]'),n=t(e.getAttribute("src")),a="{protocol}//{host}/embeds/widget-style.min.css".supplant(n),r="{protocol}//{host}/widgets/v1/{widgetType}/?embed=true&wappId={wappId}".supplant(n);window.matic={transactionInProgress:{iframeId:null,status:!1},closeOnClickOutside:!0};const i=["deposit","withdraw","send","home","login"],o=document.querySelectorAll(".matic-widget-button");Array.prototype.forEach.call(o,function(t,e){const n=`matic_iframe_${Date.now()}`,o=t.getAttribute("data-default-page")||"home";if(i.indexOf(o)<0)throw new Error(`Invalid widget type ${o}`);const s=t.getAttribute("data-wapp-id")||"default",c=r.supplant({widgetType:o,wappId:s});t.addEventListener("click",function(t){var e=document.getElementById("matic-widget-style");if(!e){var r=document.getElementsByTagName("head")[0],i=document.createElement("link");i.setAttribute("rel","stylesheet"),i.setAttribute("type","text/css"),i.setAttribute("href",a),i.setAttribute("media","all"),i.setAttribute("id","matic-widget-style"),r.appendChild(i)}t.preventDefault();const o=document.createElement("DIV");o.setAttribute("id","matic-iframe-backdrop"),o.addEventListener("click",d),document.body.appendChild(o);const s=document.createElement("IFRAME");s.setAttribute("src",c),s.setAttribute("id",n),s.setAttribute("name",n),s.setAttribute("class","matic-iframe-container"),s.setAttribute("frameBorder","0"),s.setAttribute("style","position:fixed"),window.matic.transactionInProgress.iframeId=n,window.matic.transactionInProgress.status=!window.matic.closeOnClickOutside,document.body.appendChild(s)})});var s=function(t){const e="maticWidgetEventsListener",n={CLOSE:"closeWidget",TRANSACTION_STATUS:"onTransactionStatus",TRANSFER:{onTransactionHash:"onTransferTxHash",onReceipt:"onTransfer",onError:"onTransferError"},DEPOSIT:{onTransactionHash:"onDepositTxHash",onReceipt:"onDeposit",onError:"onDepositError"},WITHDRAW_INIT:{onTransactionHash:"onWithdrawInitTxHash",onReceipt:"onWithdrawInit",onError:"onWithdrawInitError"},WITHDRAW_CONFIRM:{onTransactionHash:"onWithdrawConfirmTxHash",onReceipt:"onWithdrawConfirm",onError:"onWithdrawConfirmError"},WITHDRAW_EXIT:{onTransactionHash:"onWithdrawExitTxHash",onReceipt:"onWithdrawExit",onError:"onWithdrawExitError"}};t.eventTypes=n,t.data&&(t.data.type===n.CLOSE?d(t):t.data.type===n.TRANSACTION_STATUS&&c(t),t.data.iframeId&&"function"==typeof window[e]&&window[e].call(null,t))},d=function(t){const e=t.data?t.data.iframeId:window.matic.transactionInProgress.iframeId,n=!t.data&&window.matic.transactionInProgress.status;n||(document.body.removeChild(document.getElementById(e)),document.body.removeChild(document.getElementById("matic-iframe-backdrop")))},c=function(t){window.matic.transactionInProgress.iframeId=t.data.iframeId,window.matic.transactionInProgress.status=!window.matic.closeOnClickOutside||t.data.data};window.addEventListener("message",s,!1)})();